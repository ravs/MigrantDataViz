<!DOCTYPE html>
<meta charset="utf-8">
<style>

body {
  font: 10px sans-serif;
}

.chord path {
  fill-opacity: .67;
  stroke: #000;
  stroke-width: .5px;
}

</style>
<body>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script>

// From http://mkweb.bcgsc.ca/circos/guide/tables/
var matrix = [
  [11891, 0, 16, 21, 108, 0, 0, 8, 101, 9, 0, 1, 32, 43, 0, 0, 0, 0, 0, 0, 0, 0, 32, 47, 0, 1, 8, 0, 3, 1, 0, 30, 137, 0, 0, 1, 0, 1, 16, 3, 165, 0, 4, 0, 11, 0, 0, 0, 0, 1, 0, 0, 0, 0],
  [222, 0, 19, 16, 136, 0, 0, 2, 21, 2, 1, 9, 24, 25, 2, 11, 1, 3, 0, 0, 0, 0, 17, 45, 7, 0, 15, 2, 0, 7, 0, 103, 232, 0, 1, 2, 0, 1, 9, 1, 6252, 0, 1, 0, 4, 0, 0, 0, 2, 5, 0, 0, 0, 0],
  [7, 0, 9570, 26, 90, 0, 0, 2, 3, 47, 0, 0, 9, 50, 0, 2, 0, 0, 0, 1, 0, 0, 344, 142, 0, 0, 8, 4, 2, 6, 0, 5, 2, 0, 0, 0, 0, 0, 17, 0, 2, 1, 10, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0],
  [4, 0, 65, 7564, 241, 15, 1, 6, 22, 0, 0, 0, 60, 104, 0, 0, 0, 1, 0, 1, 0, 0, 281, 228, 5, 1, 9, 10, 0, 8, 0, 18, 17, 0, 3, 1, 0, 0, 31, 0, 24, 1, 12, 1, 3, 0, 7, 0, 1, 1, 0, 0, 0, 0],
  [221, 0, 274, 430, 14380, 4, 8, 22, 39, 68, 4, 17, 106, 121, 2, 5, 0, 0, 0, 0, 0, 1, 778, 228, 4, 3, 45, 12, 4, 23, 0, 102, 93, 1, 27, 2, 0, 1, 40, 0, 319, 12, 21, 1, 21, 0, 0, 0, 2, 2, 0, 0, 0, 0],
  [1, 0, 99, 89, 67, 150, 0, 8, 0, 0, 0, 0, 2, 67, 0, 0, 0, 0, 0, 0, 0, 0, 157, 27, 0, 0, 0, 16, 0, 13, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 5, 236, 30, 15, 88, 0, 14, 0, 0, 2, 1, 19, 0, 0, 0, 0, 0, 0, 0, 0, 58, 15, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [6, 0, 2, 3, 0, 0, 0, 2609, 19, 5, 4, 0, 23, 239, 0, 0, 0, 0, 0, 0, 0, 0, 20, 0, 3, 0, 3, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [79, 0, 4, 29, 15, 0, 0, 54, 7068, 62, 0, 1, 55, 67, 1, 2, 1, 0, 0, 2, 0, 0, 13, 14, 1, 0, 3, 3, 0, 0, 0, 1, 4, 0, 5, 0, 0, 0, 10, 0, 9, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [12, 0, 142, 5, 64, 0, 0, 16, 105, 3394, 0, 0, 22, 39, 0, 2, 0, 0, 0, 10, 0, 0, 78, 6, 17, 0, 10, 0, 0, 8, 0, 6, 0, 0, 0, 0, 0, 0, 24, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0],
  [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 306, 58, 5, 3, 0, 0, 0, 2, 0, 0, 0, 5, 3, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 1, 0, 0, 0, 4, 0, 15, 2332, 27, 58, 0, 0, 17, 6, 4, 1, 0, 7, 4, 14, 5, 0, 3, 2, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [23, 0, 17, 5, 23, 0, 0, 136, 102, 4, 1, 39, 10334, 650, 4, 0, 0, 1, 0, 281, 0, 11, 160, 15, 2, 3, 11, 7, 0, 7, 0, 7, 14, 0, 0, 0, 0, 1, 37, 0, 8, 9, 16, 1, 0, 0, 0, 0, 1, 0, 0, 2, 1, 0],
  [3, 0, 4, 4, 3, 0, 0, 153, 6, 0, 1, 10, 71, 9311, 0, 0, 1, 1, 0, 2, 0, 0, 88, 6, 6, 0, 38, 6, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 36, 0, 2, 0, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 14, 288, 115, 1452, 0, 0, 1, 1, 0, 0, 0, 19, 4, 5, 1, 0, 3, 0, 3, 0, 0, 1, 0, 0, 0, 0, 0, 5, 0, 1, 0, 108, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 40, 9, 5, 0, 130, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0],
  [2, 0, 0, 0, 0, 0, 0, 0, 1, 0, 15, 101, 14, 24, 0, 0, 1039, 11, 0, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 2, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 92, 0, 0, 0, 0, 0, 0, 2, 0, 1, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 18, 41, 0, 2, 0, 0, 0, 43, 1487, 23, 0, 24, 0, 5, 0, 0, 0, 0, 2, 1, 0, 0, 0, 0, 0, 0, 0, 18, 4, 1, 2, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [10, 0, 1, 0, 0, 0, 0, 0, 0, 0, 5, 40, 8, 0, 2, 8, 1, 2, 91, 139, 0, 1160, 2, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [9, 0, 266, 25, 65, 0, 0, 21, 17, 13, 0, 37, 88, 335, 0, 0, 0, 0, 0, 8, 0, 1, 17836, 109, 6, 1, 100, 112, 6, 85, 0, 2, 5, 0, 4, 0, 0, 1, 128, 0, 1, 0, 52, 1, 4, 3, 0, 0, 0, 0, 0, 0, 0, 0],
  [1, 0, 161, 104, 46, 0, 0, 6, 7, 1, 0, 13, 35, 44, 0, 0, 2, 0, 0, 0, 0, 0, 261, 8422, 9, 3, 96, 1, 1, 207, 0, 5, 3, 0, 0, 0, 0, 0, 37, 0, 2, 18, 10, 0, 13, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 13, 4, 5, 0, 0, 4, 2, 7, 0, 0, 12, 18, 1, 0, 0, 0, 0, 0, 0, 0, 30, 5, 1751, 10, 51, 4, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0, 21, 0, 1, 1, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [6, 0, 9, 1, 6, 0, 0, 4, 2, 19, 0, 7, 4, 18, 2, 0, 4, 1, 0, 0, 0, 1, 74, 19, 31, 3343, 164, 40, 23, 45, 0, 0, 0, 0, 0, 0, 0, 9, 26, 0, 5, 0, 52, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 11, 4, 18, 0, 0, 3, 5, 4, 1, 4, 35, 141, 0, 0, 4, 1, 0, 0, 0, 1, 254, 84, 32, 88, 4026, 20, 27, 208, 0, 2, 1, 0, 0, 0, 0, 2, 49, 6, 0, 37, 20, 2, 17, 0, 3, 0, 1, 2, 0, 0, 0, 2],
  [0, 0, 15, 3, 10, 0, 0, 12, 3, 1, 0, 6, 18, 75, 1, 0, 0, 0, 0, 1, 0, 0, 592, 12, 8, 15, 15, 2129, 4, 27, 0, 0, 1, 0, 0, 0, 0, 0, 33, 0, 0, 1, 14, 0, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0],
  [0, 0, 1, 0, 8, 0, 0, 9, 0, 0, 0, 6, 4, 58, 4, 0, 0, 1, 0, 0, 0, 0, 164, 6, 7, 82, 160, 15, 0, 132, 0, 0, 10, 0, 0, 0, 0, 0, 24, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [2, 0, 14, 1, 18, 0, 0, 3, 8, 0, 0, 1, 25, 148, 1, 2, 2, 0, 0, 0, 0, 0, 316, 309, 12, 31, 240, 26, 18, 3084, 0, 2, 8, 0, 0, 0, 0, 1, 128, 1, 0, 20, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [2, 0, 40, 3, 8, 0, 0, 15, 14, 0, 0, 3, 50, 419, 6, 4, 0, 2, 0, 0, 0, 1, 997, 46, 10, 21, 83, 72, 11, 142, 0, 19, 1, 0, 0, 0, 0, 0, 541, 0, 1, 18, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0],
  [16, 0, 13, 9, 42, 0, 0, 2, 11, 1, 0, 10, 17, 3, 0, 0, 1, 0, 0, 0, 0, 0, 4, 26, 4, 0, 2, 0, 1, 4, 0, 4709, 257, 4, 1, 1, 0, 4, 16, 1, 69, 1, 0, 0, 151, 0, 1, 1, 0, 2, 1, 0, 0, 0],
  [75, 0, 3, 8, 37, 0, 0, 4, 11, 1, 1, 3, 4, 14, 0, 0, 0, 3, 0, 0, 0, 0, 3, 28, 5, 0, 13, 1, 0, 1, 0, 170, 6807, 0, 6, 22, 0, 7, 1, 0, 102, 1, 3, 0, 15, 4, 0, 24, 0, 0, 0, 0, 0, 0],
  [2, 0, 0, 0, 5, 1, 3, 0, 0, 0, 0, 0, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 26, 5, 248, 0, 0, 0, 0, 1, 0, 3, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0],
  [6, 0, 3, 0, 42, 0, 0, 16, 6, 0, 0, 1, 5, 11, 0, 1, 0, 0, 0, 0, 0, 0, 2, 23, 0, 0, 1, 3, 0, 3, 0, 12, 5, 0, 255, 0, 0, 0, 3, 0, 124, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [57, 0, 0, 5, 4, 0, 0, 0, 6, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 6, 0, 0, 0, 0, 0, 0, 0, 58, 347, 0, 1, 171, 0, 5, 0, 7, 1, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [77, 0, 3, 0, 15, 0, 0, 76, 11, 19, 0, 1, 92, 2, 0, 0, 0, 0, 0, 4, 0, 0, 8, 4, 0, 0, 2, 0, 0, 0, 0, 44, 86, 0, 24, 0, 0, 0, 6, 0, 1, 0, 10, 0, 0, 713, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
];

var chord = d3.layout.chord()
    .padding(.05)
    .sortSubgroups(d3.descending)
    .matrix(matrix);

var width = 1360,//change width and height as per your need
    height = 800,
    innerRadius = Math.min(width, height) * .41,
    outerRadius = innerRadius * 1.1;

var fill = d3.scale.ordinal()
    .domain(d3.range(54)) //add range as per category
    .range([
      "#000000", "#FFDD89", "#957244", "#F26223", "#F262A3", "#E60000", "#A31947", "#B8005C", "#CC6699", "#8AE65C",
      "#0052CC", "#666633", "#80804C", "#7A3D99", "#B88A00", "#7A1F00", "#FF9933", "#999966", "#0033CC", "#003D00",
      "#66CCFF", "#00FFFF", "#3D5C5C", "#F86223", "#A262A3", "#FA62A3", "#2262A3", "#3262A3", "#FF62A3", "#F202A3",
      "#666699", "#FF6699", "#997A00", "#FA6223", "#2262A3", "#F2B2A3", "#FB62A3", "#F2D2A3", "#FB62A3", "#F2A2A1",
      "#993300", "#7ACCA3", "#339966", "#F2B223", "#5262A3", "#FE62A3", "#F2F2A3", "#FB62A3", "#F2F2A3", "#FF62A5",
      "#B2B200", "#00CC7A", "#1A3380", "#336680"
    ]);//same color mapping

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height)
  .append("g")
    .attr("transform", "translate(" + width / 3.3 + "," + height / 2 + ")");

svg.append("g").selectAll("path")
    .data(chord.groups)
  .enter().append("path")
    .style("fill", function(d) { return fill(d.index); })
    .style("stroke", function(d) { return fill(d.index); })
    .attr("d", d3.svg.arc().innerRadius(innerRadius).outerRadius(outerRadius))
    .on("mouseover", fade(.1))
    .on("mouseout", fade(1));

/*svg.append("g").selectAll("g")
  .data(chord.groups)
  .enter().append("g")
  .attr("transform", function(d) {
      return "rotate(" + (d.startAngle * 180 / Math.PI - 90) + ")"
          + "translate(" + 405.90000000000003 + ",0)";
  })
  .append("text")
    .attr("x", 8)
    .attr("dy", ".35em")
    .attr("transform", function(d) { return d.startAngle > Math.PI ? "rotate(180)translate(-16)" : null; })
    .style("text-anchor", function(d) { return d.startAngle > Math.PI ? "end" : null; })
    .text("Sample");*/

var ticks = svg.append("g").selectAll("g")
    .data(chord.groups)
  .enter().append("g").selectAll("g")
    .data(groupTicks)
  .enter().append("g")
    .attr("transform", function(d) {
      return "rotate(" + (d.angle * 180 / Math.PI - 90) + ")"
          + "translate(" + outerRadius + ",0)";
    });

ticks.append("line")
    .attr("x1", 1)
    .attr("y1", 0)
    .attr("x2", 5)
    .attr("y2", 0)
    .style("stroke", "#000");

ticks.append("text")
    .attr("x", 8)
    .attr("dy", ".35em")
    .attr("transform", function(d) { return d.angle > Math.PI ? "rotate(180)translate(-16)" : null; })
    .style("text-anchor", function(d) { return d.angle > Math.PI ? "end" : null; })
    .text(function(d) { return d.label; });

svg.append("g")
    .attr("class", "chord")
  .selectAll("path")
    .data(chord.chords)
  .enter().append("path")
    .attr("d", d3.svg.chord().radius(innerRadius))
    .style("fill", function(d) { return fill(d.target.index); })
    .style("opacity", 1);

// Returns an array of tick angles and labels, given a group.
function groupTicks(d) {
  var k = (d.endAngle - d.startAngle) / d.value;
  return d3.range(0, d.value, 1000).map(function(v, i) {
    return {
      angle: v * k + d.startAngle,
      label: i % 5 ? null : v / 1000 + "k"
    };
  });
}

//Returns the start angle of a given group
function groupAngle(d){
  return d.startAngle;
}

// Returns an event handler for fading a given chord group.
function fade(opacity) {
  return function(g, i) {
    svg.selectAll(".chord path")
        .filter(function(d) { return d.source.index != i && d.target.index != i; })
      .transition()
        .style("opacity", opacity);
  };
}

</script>
